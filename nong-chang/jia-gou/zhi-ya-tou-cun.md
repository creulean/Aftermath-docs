# 质押头寸

## 质押头寸**包**

该包提供了与抵押头寸操作相关的接口。主要入口点是StakedPosition结构。

## **开仓**&#x20;

用户可以使用持仓功能开仓。开仓时，用户必须指定以毫秒为单位的锁定持续时间。锁定持续时间应遵守在配置 Afterburner Vault 时设定的界限。&#x20;

锁定的仓位将根据配置的 Afterburner Vault 倍率获得奖励。

## **收获奖励**

奖励收获是一个三阶段的过程：

1. 用户必须调用 begin\_harvest 函数；
2. 对于每个奖励，用户应该调用 harvest\_rewards\<STAKE, REWARD> 函数。这将允许用户获取已累积的类型为 `Coin<REWARD>` 的奖励；
3. 要完成流程，用户必须调用 end\_harvest 函数，该函数会发出相应的事件。

对于严格执行，用户可以随时领取他们的奖励。

对于宽松执行，只有在位置解锁后才能领取他们的奖励。

## **增加赌注**

在任何时刻，用户可以使用deposit\_principal函数来增加仓位的抵押金额。在增加锁定仓位的押金后，将重新计算锁定期。

## **撤回赌注**

用户可以使用withdraw\_principal函数提取已抵押的本金。必须解锁仓位才能从中撤回。

在锁定期结束前，无法解锁在Strict Afterburner保险库中锁定的仓位。

## **延长仓位锁定期**&#x20;

用户可以使用 renew\_lock 函数延长锁定期。&#x20;

## **合并仓位**&#x20;

用户可以使用 join 函数合并两个位置。合并后的位置将拥有最近的锁定开始时间和两个位置之间较长的锁定时间。

## &#x20;**分割仓位**

用户可使用 split 功能将一个位置一分为二。累积奖励将在两个仓位之间分配，分配比例为按比例分配的金额与总赌注金额之比。所有其他参数均与原始仓位保持一致。&#x20;

## **关闭仓位**&#x20;

用户可以使用 destroy 功能删除一个不活动的仓位。销毁的仓位必须没有任何剩余本金或奖励。
